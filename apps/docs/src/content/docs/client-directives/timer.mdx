---
package: client-directives
title: 'Client directive: Timer'
description: Timer client directive for Astro
sidebar:
  label: Timer
---
import { Code, Tabs, TabItem, Steps, Aside } from '@astrojs/starlight/components';

import BetaAdvice from '@/components/BetaAdvice.astro';

import Example from '@/libs/examples/Example.astro';
import ExamplePreview from '@/libs/examples/ExamplePreview.astro';

import ClientDirectiveTimerUseExample from './_examples/timer/Example.astro';

import squareCodeExample from '@/libs/examples/Square.svelte?raw';
import clientDirectiveTimerSetupExampleRaw from './_examples/timer/setup.ts?raw';
import clientDirectiveViewportSetupWithClientOnExampleRaw from './_examples/timer/setup-with-client-on.ts?raw';
import ClientDirectiveTimerUseExampleRaw from './_examples/timer/Example.astro?raw';

<BetaAdvice />

The `client:timer` directive hydrates the component when the specified time in milliseconds has been elapsed. It uses `setTimeout` under the hood.

## Setup

For setting up the directive, include the integration in your Astro project.

<Steps>
1.  Install the library using your preferred package manager:
    ```
    npm i -D @astro-tools/client-directives
    ```
2.  Add the integration to your project configuration:
    <Code title="astro.config.mjs" code={clientDirectiveTimerSetupExampleRaw} lang="typescript" />
</Steps>

### With client:on directive

To integrate this directive with the `client:on`, configure the directive as follows:
<Code title="astro.config.mjs" code={clientDirectiveViewportSetupWithClientOnExampleRaw} lang="typescript" />

<Aside type="tip">Both integrations, `client:on` integration and this one, can be included in the project configuration, allowing you to use both directives, `client:timer="3000"` and `client:on="timer 3000"`, in your components.</Aside>

## Use

Add the directive as attribute of the component to hydrate with the time in millseconds:
```astro
<MyComponent client:timer="3000" />
```

Remember, this directive doesn't take into consideration the loading state of the page.

<Example>
  <Tabs>
    <TabItem label="Example.astro">
      <Code code={ClientDirectiveTimerUseExampleRaw} lang="astro" />
    </TabItem>
    <TabItem label="Square.svelte">
      <Code code={squareCodeExample} lang="svelte" />
    </TabItem>
  </Tabs>
  <ExamplePreview hydration="example">
    <ClientDirectiveTimerUseExample id="example" />
  </ExamplePreview>
</Example>
